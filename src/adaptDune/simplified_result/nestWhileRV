plan b: max(max(1 + max(k + max(max(k*k + 1, 2 * k), 2 * k), k), 1 + max(k + max(max(k*k + 1, 2 * k), 2 * k), k)), 1)

plan a:  max(max(1 + max(k  + max(max(k * k + 1, 2 * k ), 2 * k ), k ), 1 + max(k  + max(max(k * k + 1, 2 * k ), 2 * k ), k )), 1)