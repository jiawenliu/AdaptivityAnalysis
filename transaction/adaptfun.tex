In this section, we present our program analysis {\THESYSTEM} for
computing an upper bound on the \emph{adaptivity} of a given program
$c$.  The high level idea behind {\THESYSTEM} is to first build
an \emph{estimated dependency graph} \progG(c) of a program $c$
(Section~\ref{sec:alg_weightedgegen}) which overapproximates the
semantics-based dependency graph in two dimensions: it
overapproximates the dependencies between assigned variables (Section~\ref{sec:alg_edgegen}), and, it
overapproximates the weights (Section~\ref{sec:alg_weightgen}). Then, {\THESYSTEM} uses a custom algorithm to estimate the longest
walk on this graph, providing in this way an upper bound on the adaptivity of the
program.
%
\subsection{A guide to {\THESYSTEM}}
\label{sec:alg_guide}
\input{alg_guide}

\subsection{Vertex Estimation}
\label{sec:alg_vertexgen}
\input{alg_vertexgen}


\subsection{Edge and Weight Estimation}
\label{sec:alg_weightedgegen}
The edges and weight are estimated through a combined control, data flow, and loop bound analysis.
Because these analyses are all performed on basis of the \emph{Abstract Transition Graph} of the program, we first introduce how to generate this \emph{abstract transition graph} in Section~\ref{sec:alg_abscfg}.
Then Section~\ref{sec:alg_edgegen} presents the edge estimation based on a combined control and data flow analysis algorithm,
and Section~\ref{sec:alg_weightgen}
computes the weight through a loop bound analysis.

\subsubsection{Abstract Transition Graph}
\label{sec:alg_abscfg}
\input{alg_abscfg}
%
\subsubsection{Edge Estimation}
\label{sec:alg_edgegen}
% \input{alg_edgegen}
\todo{Add the computation steps}
\highlight{
  \[
    \progE^0(c) \triangleq 
    \left\{ 
    ({x}_1^{i}, w, {x}_2^{j}) \in \mathcal{LV} \times 
    \mathcal{A}_{\kw{in}} \times \mathcal{LV}
    ~ \middle\vert ~
    \begin{array}{l}
      {x}_1^{i}, {x}_2^{j} \in \lvar(c)
    \land
      % \\
      \exists n \in \mathbb{N}, z_1^{r_1}, \cdots, z_n^{r_n} \in \lvar_{{c}} \st 
      n \geq 0 \land
      \\
      \flowsto(x^i,  z_1^{r_1}, c) 
      \land \cdots \land \flowsto(z_n^{r_n}, y^j, c) 
    \end{array}
    \right\}
    \]
}
The weight for every edge will be computed as next step in Section~\ref{sec:alg_weightgen}.
%

\subsubsection{Weight Estimation}
\label{sec:alg_weightgen}
\input{alg_weightgen}
%
%
\subsection{Graph Construction}
\label{sec:alg_graphgen}
\input{alg_graphgen}

\subsection{Adaptivity Upper Bound Computation}
\label{sec:alg_adaptcompute}
\input{alg_adaptcompute}